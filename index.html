<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Interactive Computer Architecture Explorer</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#06b6d4;--muted:#9aa4b2;--glass: rgba(255,255,255,0.03)}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,'Helvetica Neue',Arial}
    body{background:linear-gradient(180deg,#071029 0%,#081827 60%);color:#e6eef6;padding:24px}
    h1{font-size:28px;margin:0 0 8px}
    .container{max-width:1100px;margin:0 auto}
    .row{display:flex;gap:18px;flex-wrap:wrap}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:12px;padding:16px;box-shadow:0 6px 20px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03)}
    .card.wide{flex:1 1 100%}
    .card.half{flex:1 1 48%}
    .cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}
    .unit-btn{background:var(--glass);padding:12px;border-radius:10px;cursor:pointer;border:1px solid rgba(255,255,255,0.03)}
    .unit-btn:hover{transform:translateY(-4px);transition:all .18s}
    pre{background:#041220;padding:12px;border-radius:8px;overflow:auto;color:#cde}
    .controls{display:flex;gap:8px;align-items:center;margin-top:8px}
    input[type=text], input[type=number]{padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit}
    button{background:var(--accent);border:none;padding:8px 12px;border-radius:8px;color:#022;cursor:pointer}
    .muted{color:var(--muted)}
    .svgwrap{display:flex;justify-content:center;padding:8px}
    .steps{display:flex;gap:8px;margin-top:8px}
    .chip{font-family:monospace;background:rgba(255,255,255,0.02);padding:6px 8px;border-radius:6px}
    footer{margin-top:18px;color:var(--muted);font-size:13px}
    /* small responsive tweaks */
    @media (max-width:700px){.card.half{flex:1 1 100%}}
  </style>
</head>
<body>
  <div class="container">
    <header style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
      <div>
        <h1>Interactive Computer Architecture Explorer</h1>
        <div class="muted"></div>
      </div>
      <div style="text-align:right">
        <div class="muted">Due: Today â€” Good luck! ðŸš€</div>
      </div>
    </header>

    < Functional Units Explorer -->
    <section class="card wide">
      <h2> Functional Units Explorer</h2>
      <p class="muted">Click any unit to see AI-generated details, block diagram and real-world examples.</p>
      <div class="cards-grid" id="units"></div>

      <div id="unit-details" style="margin-top:12px"></div>
    </section>

    < Von Neumann Visualizer -->
    <section class="card half">
      <h2> Von Neumann Architecture Visualizer</h2>
      <p class="muted">Illustration uses an example instruction flow: <span class="chip">LOAD R1, [100]</span> then <span class="chip">ADD R1, R2</span>. Use the step controls to animate the data path.</p>
      <div class="svgwrap">
        <!-- SVG diagram -->
        <svg id="vnm" width="720" height="260" viewBox="0 0 720 260">
          <!-- Memory -->
          <rect x="20" y="30" width="140" height="200" rx="8" fill="#071730" stroke="#083a48"/>
          <text x="90" y="50" text-anchor="middle" font-size="12">Memory</text>
          <g id="mem-rows" font-family="monospace" font-size="11" fill="#8fbfd1"></g>

          <!-- CPU box -->
          <rect x="220" y="20" width="320" height="220" rx="12" fill="#061427" stroke="#135"/>
          <text x="380" y="40" text-anchor="middle" font-size="12">CPU</text>

          <!-- Control Unit -->
          <rect x="240" y="60" width="120" height="80" rx="8" fill="#082233" stroke="#0b4c5a"/>
          <text x="300" y="95" text-anchor="middle" font-size="11">Control Unit</text>

          <!-- ALU -->
          <rect x="400" y="60" width="120" height="80" rx="8" fill="#082233" stroke="#0b4c5a"/>
          <text x="460" y="95" text-anchor="middle" font-size="11">ALU</text>

          <!-- Registers -->
          <rect x="280" y="150" width="80" height="60" rx="8" fill="#082233" stroke="#0b4c5a"/>
          <text x="320" y="175" text-anchor="middle" font-size="11">Registers</text>

          <!-- Buses -->
          <line id="bus-mem-cpu" x1="160" y1="120" x2="220" y2="120" stroke="#2dd4bf" stroke-width="3" stroke-linecap="round" opacity="0.25"/>
          <line id="bus-reg-alu" x1="360" y1="150" x2="400" y2="120" stroke="#f59e0b" stroke-width="3" stroke-linecap="round" opacity="0.25"/>

          <!-- Moving token -->
          <circle id="token" cx="160" cy="120" r="8" fill="#06b6d4" opacity="0" />

        </svg>
      </div>
      <div class="controls">
        <button onclick="vStep(-1)">â—€ Prev</button>
        <button onclick="vPlayToggle()" id="vplay">â–¶ Play</button>
        <button onclick="vStep(1)">Next â–¶</button>
        <div class="muted" style="margin-left:10px">Step: <span id="vstepnum">0</span>/6</div>
      </div>
      <div id="vstepdesc" style="margin-top:8px" class="muted"></div>
    </section>

    < Floating Point & Bitwise -->
    <section class="card half">
      <h2>â€” Floating-Point & Bitwise Lab</h2>
      <p class="muted">Interactive converters and step-throughs. This project uses a unique custom 8-bit float format for illustration: 1 sign | 4 exponent (bias 7) | 3 mantissa.</p>

      <div style="display:flex;gap:12px;flex-wrap:wrap">
        <div style="flex:1 1 320px">
          <h3>8-bit Custom Float â‡„ Decimal</h3>
          <div class="controls">
            <input id="dec-input" type="number" step="any" placeholder="Decimal (e.g., -3.25)" />
            <button onclick="convertCustomFloat()">Convert â†’</button>
          </div>
          <div id="custom-result" style="margin-top:8px"></div>
        </div>
      </div>

      <hr style="margin:12px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)" />

      <div>
        <h3>Bitwise Operations</h3>
        <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap">
          <input id="bin-a" type="text" placeholder="Binary A (e.g., 101101)" />
          <input id="bin-b" type="text" placeholder="Binary B (for AND/OR/XOR)" />
          <select id="bit-op"><option>AND</option><option>OR</option><option>XOR</option><option>NOT A</option><option>LSHIFT A</option><option>RSHIFT A</option></select>
          <input id="shift-amt" type="number" placeholder="shift" style="width:80px" />
          <button onclick="doBitwise()">Run</button>
        </div>
        <div id="bitwise-out" style="margin-top:8px"></div>
      </div>
    </section>

    <!-- AI Usage & Reflection -->
    <section class="card wide">
      <h2>AI Usage & Reflection (Deliverable)</h2>
      <p class="muted">Below is a starter reflection you can copy into your report and personalize.</p>
      <pre id="reflection">AI-assisted content generation was used to create concise functional descriptions, diagrams, and example instruction flows. AI tools helped draft stepwise explanations and code snippets; I verified and adjusted them manually to ensure correctness and to add unique examples (custom 8-bit float format and the LOAD/ADD instruction example). Reflection: I used AI to accelerate content creation, then validated calculations and animations by handâ€”this kept the project's learning value intact.</pre>
    </section>

    <footer class="muted">How to use: Save this file as <code>index.html</code> and open in a browser. You can host it on GitHub Pages for submission.</footer>
  </div>

  <script>
    /* ====== Task 1 data and rendering ====== */
    const units = [
      {id:'input',title:'Input Unit',desc:`Receives data from external devices and converts them to machine-readable form. Handles sampling and buffering. Typical examples: Keyboard, Mouse, ADC in embedded systems.`,examples:['Keyboard -> keystrokes','Microphone -> ADC samples'],svg: `
        <svg width="220" height="120" viewBox="0 0 220 120"><rect x="6" y="6" width="208" height="108" rx="8" fill="#041827" stroke="#064a56"/><text x="110" y="26" text-anchor="middle" font-size="12">Input Unit</text><g font-family="monospace" font-size="11" fill="#9ad8e6"><rect x="20" y="40" width="60" height="40" rx="6" fill="#062a34"/><text x="50" y="63" text-anchor="middle">Keyboard</text><rect x="90" y="40" width="100" height="40" rx="6" fill="#062a34"/><text x="140" y="63" text-anchor="middle">ADC â†’ Bus</text></g></svg>`},
      {id:'output',title:'Output Unit',desc:`Transfers processed data from machine to human-usable form. Converts digital signals to analog or visual/audio outputs. Examples: Monitor (video controller), Speaker (DAC).`,examples:['Display Adapter -> Screen','DAC -> Speaker'],svg:`<svg width="220" height="120" viewBox="0 0 220 120"><rect x="6" y="6" width="208" height="108" rx="8" fill="#041827" stroke="#064a56"/><text x="110" y="26" text-anchor="middle" font-size="12">Output Unit</text><g font-family="monospace" font-size="11" fill="#ffd8a8"><rect x="20" y="40" width="60" height="40" rx="6" fill="#08212a"/><text x="50" y="63" text-anchor="middle">GPU</text><rect x="90" y="40" width="100" height="40" rx="6" fill="#08212a"/><text x="140" y="63" text-anchor="middle">DAC â†’ Speaker</text></g></svg>`},
      {id:'alu',title:'ALU (Arithmetic Logic Unit)',desc:`Performs arithmetic and logical operations. It is the computation heart of the CPU. Typical blocks: adders, shifters, logic gates. Examples: Integer add/sub, bitwise ops, comparisons.`,examples:['Adder for integer ops','Shifter for shifts and multiplies'],svg:`<svg width="220" height="120" viewBox="0 0 220 120"><rect x="6" y="6" width="208" height="108" rx="8" fill="#041827" stroke="#064a56"/><text x="110" y="26" text-anchor="middle" font-size="12">ALU</text><g font-family="monospace" font-size="11" fill="#c7f9f2"><rect x="40" y="40" width="140" height="40" rx="6" fill="#05212b"/><text x="110" y="63" text-anchor="middle">Adder | Logic | Shifter</text></g></svg>`},
      {id:'control',title:'Control Unit',desc:`Orchestrates CPU operation: fetch, decode, execute cycles. Generates control signals directing ALU, memory and I/O. Examples: Hardwired control unit in microcontrollers, microprogrammed control in complex CPUs.`,examples:['Instruction decoder','Sequencing logic'],svg:`<svg width="220" height="120" viewBox="0 0 220 120"><rect x="6" y="6" width="208" height="108" rx="8" fill="#041827" stroke="#064a56"/><text x="110" y="26" text-anchor="middle" font-size="12">Control Unit</text><g font-family="monospace" font-size="11" fill="#d1e8ff"><rect x="30" y="40" width="160" height="40" rx="6" fill="#052034"/><text x="110" y="63" text-anchor="middle">Decoder | Sequencer</text></g></svg>`},
      {id:'memory',title:'Memory Unit',desc:`Stores instructions and data. Organized as registers, cache, main memory, and secondary storage. Examples: SRAM/DRAM, SSD.`,examples:['Registers (fast)','DRAM (main memory)'],svg:`<svg width="220" height="120" viewBox="0 0 220 120"><rect x="6" y="6" width="208" height="108" rx="8" fill="#041827" stroke="#064a56"/><text x="110" y="26" text-anchor="middle" font-size="12">Memory Unit</text><g font-family="monospace" font-size="11" fill="#bfe0ff"><rect x="40" y="40" width="140" height="40" rx="6" fill="#052034"/><text x="110" y="63" text-anchor="middle">Registers | DRAM | Cache</text></g></svg>`}
    ];

    const unitsEl = document.getElementById('units');
    units.forEach(u => {
      const d = document.createElement('div'); d.className='unit-btn card'; d.innerHTML=`<strong>${u.title}</strong><div class="muted" style="font-size:12px;margin-top:6px">Click to explore</div>`;
      d.onclick = () => showUnit(u);
      unitsEl.appendChild(d);
    });

    function showUnit(u){
      const el = document.getElementById('unit-details');
      el.innerHTML = `<div style="display:flex;gap:12px;align-items:flex-start;flex-wrap:wrap"><div style="flex:0 0 240px">${u.svg}</div><div style="flex:1"><h3>${u.title}</h3><p>${u.desc}</p><p class=\"muted\">Examples:</p><ul>${u.examples.map(x=>`<li>${x}</li>`).join('')}</ul></div></div>`;
    }

    // show first by default
    showUnit(units[0]);

    /* ===== Task 2: Von Neumann animation state machine ===== */
    const steps = [
      {t:'Idle','d':'Start state â€” memory and CPU present. Instruction at address 100 is our example.'},
      {t:'Fetch
